<!doctype html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"/>
    <meta http-equiv="X-UA-Compatible" content="ie=edge"/>
    <title>管理用户</title>

    <!--  CSS Style  -->
    <link rel="stylesheet" href="../static/css/global.css" />
    <link rel="stylesheet" href="../static/css/manage_user.css" />

</head>
<body>

<div id="top-nav">
    <div class="content">
        <a href="/" id="index-link" class="link-btn">
            <svg class="icon" xmlns="http://www.w3.org/2000/svg" width="128" height="128" viewBox="0 0 512 512"><path d="M261.56 101.28a8 8 0 0 0-11.06 0L66.4 277.15a8 8 0 0 0-2.47 5.79L63.9 448a32 32 0 0 0 32 32H192a16 16 0 0 0 16-16V328a8 8 0 0 1 8-8h80a8 8 0 0 1 8 8v136a16 16 0 0 0 16 16h96.06a32 32 0 0 0 32-32V282.94a8 8 0 0 0-2.47-5.79Z"/><path d="m490.91 244.15l-74.8-71.56V64a16 16 0 0 0-16-16h-48a16 16 0 0 0-16 16v32l-57.92-55.38C272.77 35.14 264.71 32 256 32c-8.68 0-16.72 3.14-22.14 8.63l-212.7 203.5c-6.22 6-7 15.87-1.34 22.37A16 16 0 0 0 43 267.56L250.5 69.28a8 8 0 0 1 11.06 0l207.52 198.28a16 16 0 0 0 22.59-.44c6.14-6.36 5.63-16.86-.76-22.97"/></svg>
        </a>
        <div class="btn-group">
            <a href="/login" id="login-link" class="link-btn" data-min-permission="1" data-max-permission="1">
                <svg class="icon" xmlns="http://www.w3.org/2000/svg" width="114.67" height="128" viewBox="0 0 344 384"><path d="M170.5 192q-35.5 0-60.5-25t-25-60.5T110 46t60.5-25T231 46t25 60.5t-25 60.5t-60.5 25m0 43q31.5 0 69.5 9t69.5 29.5T341 320v43H0v-43q0-26 31.5-46.5T101 244t69.5-9"/></svg>
            </a>
            <a href="/logout" id="logout-link" class="link-btn" data-min-permission="2" data-max-permission="4">
                <svg class="icon" xmlns="http://www.w3.org/2000/svg" width="128" height="128" viewBox="0 0 24 24"><path d="m17 7l-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5M4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4z"/></svg>
            </a>
            <div class="select" data-min-permission="2" data-max-permission="4">
                <button type="button" class="menu-btn">
                    <svg class="icon" xmlns="http://www.w3.org/2000/svg" width="128" height="128" viewBox="0 0 24 24"><path d="M3 18v-2h18v2zm0-5v-2h18v2zm0-5V6h18v2z"/></svg>
                </button>
                <div class="options">
                    <a href="/manage_user" class="option" data-min-permission="4" data-max-permission="4">管理用户</a>
                    <a href="/manage_dir" class="option" data-min-permission="4" data-max-permission="4">管理目录</a>
                    <a href="/change_password" class="option" data-min-permission="2" data-max-permission="4">修改密码</a>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="overlay" class="hidden"></div>
<dialog open id="add-user-dialog" class="hidden">
    <h2 class="title">添加用户</h2>
    <form action="/api/manage_user">
        <div class="input-widget">
            <label for="username">用户名</label>
            <input type="text" name="username" id="username" required autocomplete="off" />
        </div>
        <div class="input-widget">
            <label for="password">密码</label>
            <input type="password" name="password" id="password" required autocomplete="off" />
        </div>
        <div class="input-widget">
            <label for="again-password">确认密码</label>
            <input type="password" id="again-password" required autocomplete="off" />
        </div>
        <div class="select-widget">
            <span class="text">权限</span>
            <select name="permission">
                <option value="2">普通用户</option>
                <option value="4">管理员</option>
            </select>
        </div>
        <div class="btn-group">
            <button type="submit">确定</button>
            <button type="button" class="close">取消</button>
        </div>
        <div id="add-user-error-message" class="hidden"></div>
    </form>
</dialog>

<h1>管理用户</h1>

<div id="btn-group">
    <button type="button" id="add-user">添加用户</button>
</div>

<div id="main">
    <div class="row title">
        <div class="item username">用户名</div>
        <div class="item permission">
            <div class="text">权限</div>
        </div>
        <button class="item delete-btn" type="button"></button>
    </div>
</div>

<!-- JavaScript -->
<script type="text/javascript" src="../static/js/global.js"></script>
<script type="text/javascript" src="../static/js/manage_user.js"></script>

</body>
</html>
